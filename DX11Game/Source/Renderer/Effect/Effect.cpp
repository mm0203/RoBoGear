//=============================================================================
// Ceffect.cpp
//=============================================================================
// Author  松野 将之
//=============================================================================

#include "Effect.h"

//=============================================================================
// 
// 初期化処理
// 
//=============================================================================
void Effect::Init()
{
	// メンバ変数初期化
	m_FrameNum = XMINT2(1, 1);
	m_MaxAnimNum = 0;
	m_CurrentAnimNum = 0;

	BillBoard::InitBill();
}

//=============================================================================
// 
// 終了処理
// 
//=============================================================================
void Effect::Uninit()
{
	BillBoard::UninitBill();
}

//=============================================================================
// 
// 更新処理
// 
//=============================================================================
void Effect::Update()
{
	if (++m_SpeedCount >= m_Speed)
	{
		if (m_CurrentAnimNum++ > m_MaxAnimNum)
		{
			EffectManager::DeleteObject(this);
		}
		m_SpeedCount = 0;
	}

	BillBoard::UpdateBill();
}

//=============================================================================
// 
// 描画処理
// 
//=============================================================================
void Effect::Draw()
{
	BillBoard::DrawBill(m_CurrentAnimNum);
}


